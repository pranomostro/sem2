BITS 32

section .bss
index_1:	resd 1
index_2: 	resd 1
res:	 	resd 1
cw:		 	resw 1
flag: 		resd 1

section .data

GLOBAL doit
two: 		dd 2.0
ten:		dd 10.0
pnine:		dd 0.9
size_main: 	dd 1000
size_high:	dd 1000

table_main: dd 0.0000000, 0.0010000, 0.0020000, 0.0030000, 0.0040000, 0.0050000, 0.0060000, 0.0070001, 0.0080001, 0.0090001, 0.0100002, 0.0110002, 0.0120003, 0.0130004, 0.0140005, 0.0150006, 0.0160007, 0.0170008, 0.0180010, 0.0190011, 0.0200013, 0.0210015, 0.0220018, 0.0230020, 0.0240023, 0.0250026, 0.0260029, 0.0270033, 0.0280037, 0.0290041, 0.0300045, 0.0310050, 0.0320055, 0.0330060, 0.0340066, 0.0350071, 0.0360078, 0.0370084, 0.0380091, 0.0390099, 0.0400107, 0.0410115, 0.0420123, 0.0430132, 0.0440142, 0.0450152, 0.0460162, 0.0470173, 0.0480184, 0.0490196, 0.0500208, 0.0510221, 0.0520234, 0.0530248, 0.0540262, 0.0550277, 0.0560293, 0.0570309, 0.0580325, 0.0590342, 0.0600360, 0.0610378, 0.0620397, 0.0630417, 0.0640437, 0.0650458, 0.0660480, 0.0670502, 0.0680525, 0.0690548, 0.0700573, 0.0710598, 0.0720623, 0.0730650, 0.0740677, 0.0750705, 0.0760733, 0.0770763, 0.0780793, 0.0790824, 0.0800856, 0.0810888, 0.0820922, 0.0830956, 0.0840991, 0.0851027, 0.0861064, 0.0871101, 0.0881140, 0.0891179, 0.0901219, 0.0911261, 0.0921303, 0.0931346, 0.0941390, 0.0951435, 0.0961481, 0.0971528, 0.0981576, 0.0991625, 0.1001674, 0.1011725, 0.1021777, 0.1031830, 0.1041884, 0.1051939, 0.1061995, 0.1072053, 0.1082111, 0.1092170, 0.1102231, 0.1112293, 0.1122355, 0.1132419, 0.1142484, 0.1152551, 0.1162618, 0.1172687, 0.1182756, 0.1192827, 0.1202899, 0.1212973, 0.1223048, 0.1233123, 0.1243201, 0.1253279, 0.1263359, 0.1273440, 0.1283522, 0.1293606, 0.1303691, 0.1313777, 0.1323865, 0.1333954, 0.1344044, 0.1354136, 0.1364229, 0.1374323, 0.1384419, 0.1394516, 0.1404615, 0.1414715, 0.1424817, 0.1434920, 0.1445025, 0.1455131, 0.1465238, 0.1475348, 0.1485458, 0.1495570, 0.1505684, 0.1515799, 0.1525916, 0.1536034, 0.1546154, 0.1556276, 0.1566399, 0.1576524, 0.1586650, 0.1596778, 0.1606908, 0.1617039, 0.1627172, 0.1637307, 0.1647444, 0.1657582, 0.1667722, 0.1677863, 0.1688007, 0.1698152, 0.1708298, 0.1718447, 0.1728597, 0.1738750, 0.1748904, 0.1759059, 0.1769217, 0.1779377, 0.1789538, 0.1799701, 0.1809866, 0.1820033, 0.1830202, 0.1840373, 0.1850546, 0.1860721, 0.1870897, 0.1881076, 0.1891256, 0.1901439, 0.1911624, 0.1921810, 0.1931999, 0.1942189, 0.1952382, 0.1962577, 0.1972774, 0.1982972, 0.1993173, 0.2003376, 0.2013582, 0.2023789, 0.2033998, 0.2044210, 0.2054424, 0.2064639, 0.2074858, 0.2085078, 0.2095300, 0.2105525, 0.2115752, 0.2125981, 0.2136213, 0.2146447, 0.2156683, 0.2166921, 0.2177162, 0.2187404, 0.2197650, 0.2207897, 0.2218148, 0.2228400, 0.2238654, 0.2248912, 0.2259171, 0.2269433, 0.2279698, 0.2289964, 0.2300234, 0.2310506, 0.2320780, 0.2331057, 0.2341336, 0.2351618, 0.2361902, 0.2372189, 0.2382478, 0.2392770, 0.2403065, 0.2413362, 0.2423662, 0.2433964, 0.2444269, 0.2454577, 0.2464887, 0.2475200, 0.2485516, 0.2495834, 0.2506155, 0.2516479, 0.2526806, 0.2537135, 0.2547467, 0.2557802, 0.2568139, 0.2578480, 0.2588823, 0.2599169, 0.2609518, 0.2619869, 0.2630224, 0.2640581, 0.2650942, 0.2661305, 0.2671672, 0.2682041, 0.2692413, 0.2702788, 0.2713166, 0.2723547, 0.2733931, 0.2744318, 0.2754708, 0.2765101, 0.2775498, 0.2785897, 0.2796299, 0.2806705, 0.2817114, 0.2827525, 0.2837940, 0.2848358, 0.2858780, 0.2869204, 0.2879632, 0.2890063, 0.2900497, 0.2910935, 0.2921375, 0.2931819, 0.2942266, 0.2952717, 0.2963171, 0.2973628, 0.2984089, 0.2994553, 0.3005020, 0.3015490, 0.3025965, 0.3036442, 0.3046923, 0.3057408, 0.3067895, 0.3078387, 0.3088882, 0.3099380, 0.3109882, 0.3120388, 0.3130897, 0.3141409, 0.3151926, 0.3162445, 0.3172969, 0.3183496, 0.3194027, 0.3204561, 0.3215099, 0.3225641, 0.3236187, 0.3246736, 0.3257289, 0.3267846, 0.3278406, 0.3288970, 0.3299538, 0.3310111, 0.3320686, 0.3331266, 0.3341849, 0.3352437, 0.3363028, 0.3373623, 0.3384223, 0.3394826, 0.3405433, 0.3416044, 0.3426659, 0.3437279, 0.3447902, 0.3458529, 0.3469160, 0.3479795, 0.3490435, 0.3501079, 0.3511726, 0.3522378, 0.3533034, 0.3543695, 0.3554359, 0.3565028, 0.3575701, 0.3586378, 0.3597060, 0.3607745, 0.3618435, 0.3629130, 0.3639829, 0.3650531, 0.3661239, 0.3671951, 0.3682667, 0.3693388, 0.3704113, 0.3714843, 0.3725577, 0.3736316, 0.3747059, 0.3757806, 0.3768559, 0.3779316, 0.3790077, 0.3800843, 0.3811614, 0.3822389, 0.3833169, 0.3843954, 0.3854743, 0.3865537, 0.3876336, 0.3887140, 0.3897949, 0.3908762, 0.3919580, 0.3930403, 0.3941230, 0.3952063, 0.3962900, 0.3973743, 0.3984590, 0.3995443, 0.4006300, 0.4017162, 0.4028029, 0.4038902, 0.4049779, 0.4060662, 0.4071549, 0.4082442, 0.4093340, 0.4104243, 0.4115151, 0.4126064, 0.4136983, 0.4147907, 0.4158836, 0.4169770, 0.4180710, 0.4191655, 0.4202605, 0.4213561, 0.4224522, 0.4235488, 0.4246460, 0.4257437, 0.4268420, 0.4279408, 0.4290402, 0.4301401, 0.4312406, 0.4323417, 0.4334433, 0.4345454, 0.4356482, 0.4367515, 0.4378553, 0.4389597, 0.4400648, 0.4411704, 0.4422765, 0.4433832, 0.4444906, 0.4455985, 0.4467070, 0.4478160, 0.4489257, 0.4500360, 0.4511469, 0.4522583, 0.4533704, 0.4544830, 0.4555963, 0.4567102, 0.4578247, 0.4589398, 0.4600555, 0.4611718, 0.4622888, 0.4634064, 0.4645245, 0.4656434, 0.4667628, 0.4678829, 0.4690036, 0.4701250, 0.4712470, 0.4723696, 0.4734929, 0.4746168, 0.4757414, 0.4768666, 0.4779925, 0.4791191, 0.4802463, 0.4813741, 0.4825027, 0.4836318, 0.4847617, 0.4858923, 0.4870235, 0.4881554, 0.4892879, 0.4904212, 0.4915552, 0.4926898, 0.4938251, 0.4949611, 0.4960978, 0.4972352, 0.4983734, 0.4995122, 0.5006517, 0.5017920, 0.5029329, 0.5040746, 0.5052170, 0.5063601, 0.5075039, 0.5086485, 0.5097938, 0.5109398, 0.5120866, 0.5132341, 0.5143824, 0.5155314, 0.5166811, 0.5178316, 0.5189828, 0.5201349, 0.5212876, 0.5224411, 0.5235955, 0.5247505, 0.5259064, 0.5270630, 0.5282204, 0.5293786, 0.5305375, 0.5316973, 0.5328578, 0.5340192, 0.5351813, 0.5363442, 0.5375080, 0.5386726, 0.5398379, 0.5410041, 0.5421711, 0.5433389, 0.5445076, 0.5456770, 0.5468473, 0.5480185, 0.5491904, 0.5503632, 0.5515369, 0.5527114, 0.5538867, 0.5550629, 0.5562400, 0.5574179, 0.5585967, 0.5597764, 0.5609570, 0.5621384, 0.5633206, 0.5645038, 0.5656879, 0.5668728, 0.5680587, 0.5692455, 0.5704331, 0.5716217, 0.5728111, 0.5740015, 0.5751928, 0.5763850, 0.5775781, 0.5787722, 0.5799672, 0.5811632, 0.5823600, 0.5835578, 0.5847566, 0.5859563, 0.5871570, 0.5883587, 0.5895613, 0.5907648, 0.5919694, 0.5931749, 0.5943814, 0.5955889, 0.5967973, 0.5980068, 0.5992173, 0.6004288, 0.6016412, 0.6028547, 0.6040692, 0.6052848, 0.6065013, 0.6077188, 0.6089374, 0.6101571, 0.6113778, 0.6125995, 0.6138222, 0.6150461, 0.6162710, 0.6174969, 0.6187239, 0.6199520, 0.6211812, 0.6224114, 0.6236427, 0.6248752, 0.6261087, 0.6273434, 0.6285791, 0.6298159, 0.6310539, 0.6322929, 0.6335331, 0.6347745, 0.6360170, 0.6372606, 0.6385053, 0.6397513, 0.6409983, 0.6422465, 0.6434959, 0.6447465, 0.6459982, 0.6472511, 0.6485053, 0.6497606, 0.6510171, 0.6522748, 0.6535337, 0.6547939, 0.6560552, 0.6573178, 0.6585816, 0.6598466, 0.6611129, 0.6623805, 0.6636493, 0.6649193, 0.6661906, 0.6674632, 0.6687371, 0.6700122, 0.6712887, 0.6725664, 0.6738455, 0.6751258, 0.6764075, 0.6776904, 0.6789747, 0.6802604, 0.6815473, 0.6828357, 0.6841254, 0.6854164, 0.6867088, 0.6880026, 0.6892977, 0.6905943, 0.6918921, 0.6931915, 0.6944922, 0.6957943, 0.6970979, 0.6984028, 0.6997092, 0.7010171, 0.7023264, 0.7036371, 0.7049493, 0.7062630, 0.7075781, 0.7088947, 0.7102129, 0.7115325, 0.7128536, 0.7141762, 0.7155004, 0.7168260, 0.7181532, 0.7194819, 0.7208122, 0.7221441, 0.7234775, 0.7248124, 0.7261490, 0.7274871, 0.7288269, 0.7301682, 0.7315112, 0.7328558, 0.7342020, 0.7355498, 0.7368993, 0.7382505, 0.7396033, 0.7409578, 0.7423139, 0.7436718, 0.7450314, 0.7463926, 0.7477556, 0.7491203, 0.7504867, 0.7518549, 0.7532248, 0.7545965, 0.7559699, 0.7573452, 0.7587222, 0.7601011, 0.7614817, 0.7628642, 0.7642485, 0.7656346, 0.7670226, 0.7684124, 0.7698041, 0.7711977, 0.7725932, 0.7739906, 0.7753899, 0.7767911, 0.7781942, 0.7795993, 0.7810064, 0.7824154, 0.7838264, 0.7852393, 0.7866543, 0.7880713, 0.7894903, 0.7909113, 0.7923344, 0.7937596, 0.7951868, 0.7966161, 0.7980474, 0.7994809, 0.8009165, 0.8023542, 0.8037941, 0.8052362, 0.8066803, 0.8081267, 0.8095753, 0.8110260, 0.8124790, 0.8139343, 0.8153917, 0.8168514, 0.8183134, 0.8197777, 0.8212443, 0.8227132, 0.8241844, 0.8256580, 0.8271340, 0.8286122, 0.8300929, 0.8315760, 0.8330615, 0.8345494, 0.8360398, 0.8375327, 0.8390280, 0.8405258, 0.8420262, 0.8435290, 0.8450344, 0.8465424, 0.8480529, 0.8495660, 0.8510817, 0.8526001, 0.8541211, 0.8556448, 0.8571711, 0.8587001, 0.8602319, 0.8617663, 0.8633035, 0.8648435, 0.8663864, 0.8679319, 0.8694803, 0.8710316, 0.8725857, 0.8741427, 0.8757026, 0.8772655, 0.8788312, 0.8803999, 0.8819717, 0.8835464, 0.8851241, 0.8867050, 0.8882889, 0.8898758, 0.8914659, 0.8930591, 0.8946555, 0.8962550, 0.8978578, 0.8994638, 0.9010730, 0.9026856, 0.9043014, 0.9059206, 0.9075431, 0.9091690, 0.9107983, 0.9124309, 0.9140671, 0.9157068, 0.9173499, 0.9189966, 0.9206468, 0.9223007, 0.9239581, 0.9256192, 0.9272840, 0.9289525, 0.9306247, 0.9323007, 0.9339805, 0.9356640, 0.9373515, 0.9390428, 0.9407380, 0.9424372, 0.9441404, 0.9458476, 0.9475589, 0.9492742, 0.9509937, 0.9527172, 0.9544451, 0.9561771, 0.9579133, 0.9596539, 0.9613988, 0.9631481, 0.9649018, 0.9666600, 0.9684226, 0.9701898, 0.9719614, 0.9737378, 0.9755188, 0.9773045, 0.9790949, 0.9808902, 0.9826902, 0.9844951, 0.9863049, 0.9881197, 0.9899396, 0.9917644, 0.9935944, 0.9954295, 0.9972699, 0.9991155, 1.0009664, 1.0028226, 1.0046843, 1.0065515, 1.0084242, 1.0103024, 1.0121864, 1.0140760, 1.0159713, 1.0178725, 1.0197796, 1.0216925, 1.0236114, 1.0255365, 1.0274677, 1.0294050, 1.0313487, 1.0332986, 1.0352550, 1.0372179, 1.0391872, 1.0411632, 1.0431459, 1.0451353, 1.0471317, 1.0491349, 1.0511451, 1.0531623, 1.0551869, 1.0572186, 1.0592577, 1.0613042, 1.0633583, 1.0654199, 1.0674893, 1.0695665, 1.0716516, 1.0737447, 1.0758458, 1.0779552, 1.0800730, 1.0821992, 1.0843339, 1.0864773, 1.0886294, 1.0907904, 1.0929604, 1.0951395, 1.0973278, 1.0995257, 1.1017330, 1.1039499, 1.1061767, 1.1084133, 1.1106602, 1.1129172, 1.1151845, 1.1174625, 1.1197511, 1.1220506, 1.1243612, 1.1266829, 1.1290160, 1.1313608, 1.1337172, 1.1360856, 1.1384661, 1.1408590, 1.1432644, 1.1456826, 1.1481138, 1.1505582, 1.1530161, 1.1554875, 1.1579731, 1.1604726, 1.1629868, 1.1655155, 1.1680593, 1.1706184, 1.1731931, 1.1757836, 1.1783904, 1.1810137, 1.1836538, 1.1863111, 1.1889861, 1.1916789, 1.1943901, 1.1971198, 1.1998689, 1.2026376, 1.2054261, 1.2082353, 1.2110653, 1.2139168, 1.2167902, 1.2196863, 1.2226053, 1.2255480, 1.2285150, 1.2315071, 1.2345245, 1.2375684, 1.2406391, 1.2437377, 1.2468648, 1.2500213, 1.2532082, 1.2564262, 1.2596763, 1.2629597, 1.2662773, 1.2696304, 1.2730200, 1.2764475, 1.2799141, 1.2834214, 1.2869709, 1.2905639, 1.2942026, 1.2978884, 1.3016233, 1.3054097, 1.3092494, 1.3131450, 1.3170992, 1.3211145, 1.3251941, 1.3293413, 1.3335594, 1.3378525, 1.3422247, 1.3466806, 1.3512255, 1.3558648, 1.3606049, 1.3654526, 1.3704160, 1.3755038, 1.3807259, 1.3860937, 1.3916205, 1.3973212, 1.4032139, 1.4093192, 1.4156624, 1.4222741, 1.4291918, 1.4364629, 1.4441479, 1.4523276, 1.4611127, 1.4706622, 1.4812204, 1.4931978, 1.5073937, 1.5258640, 1.5707964

table_high: dd 1.1197695, 1.1199989, 1.1202285, 1.1204584, 1.1206882, 1.1209180, 1.1211481, 1.1213783, 1.1216086, 1.1218389, 1.1220695, 1.1223000, 1.1225308, 1.1227616, 1.1229925, 1.1232235, 1.1234548, 1.1236861, 1.1239175, 1.1241488, 1.1243805, 1.1246122, 1.1248441, 1.1250759, 1.1253080, 1.1255403, 1.1257725, 1.1260049, 1.1262374, 1.1264700, 1.1267028, 1.1269356, 1.1271685, 1.1274016, 1.1276349, 1.1278682, 1.1281016, 1.1283351, 1.1285688, 1.1288025, 1.1290364, 1.1292704, 1.1295046, 1.1297387, 1.1299731, 1.1302075, 1.1304421, 1.1306769, 1.1309116, 1.1311466, 1.1313816, 1.1316168, 1.1318520, 1.1320875, 1.1323230, 1.1325586, 1.1327944, 1.1330303, 1.1332662, 1.1335024, 1.1337386, 1.1339749, 1.1342114, 1.1344481, 1.1346847, 1.1349216, 1.1351585, 1.1353955, 1.1356328, 1.1358701, 1.1361076, 1.1363450, 1.1365827, 1.1368206, 1.1370585, 1.1372966, 1.1375347, 1.1377730, 1.1380115, 1.1382500, 1.1384887, 1.1387274, 1.1389663, 1.1392053, 1.1394445, 1.1396837, 1.1399231, 1.1401627, 1.1404023, 1.1406422, 1.1408820, 1.1411221, 1.1413622, 1.1416025, 1.1418428, 1.1420834, 1.1423241, 1.1425649, 1.1428058, 1.1430469, 1.1432880, 1.1435293, 1.1437707, 1.1440123, 1.1442540, 1.1444957, 1.1447377, 1.1449798, 1.1452219, 1.1454643, 1.1457068, 1.1459494, 1.1461921, 1.1464349, 1.1466779, 1.1469210, 1.1471642, 1.1474077, 1.1476511, 1.1478947, 1.1481385, 1.1483824, 1.1486264, 1.1488706, 1.1491150, 1.1493593, 1.1496038, 1.1498486, 1.1500934, 1.1503384, 1.1505835, 1.1508287, 1.1510741, 1.1513196, 1.1515652, 1.1518110, 1.1520569, 1.1523030, 1.1525491, 1.1527954, 1.1530420, 1.1532885, 1.1535352, 1.1537821, 1.1540291, 1.1542763, 1.1545235, 1.1547710, 1.1550184, 1.1552662, 1.1555140, 1.1557620, 1.1560102, 1.1562583, 1.1565068, 1.1567553, 1.1570040, 1.1572528, 1.1575017, 1.1577508, 1.1580001, 1.1582495, 1.1584990, 1.1587486, 1.1589985, 1.1592485, 1.1594986, 1.1597488, 1.1599991, 1.1602497, 1.1605003, 1.1607511, 1.1610022, 1.1612532, 1.1615045, 1.1617559, 1.1620075, 1.1622591, 1.1625109, 1.1627629, 1.1630150, 1.1632673, 1.1635197, 1.1637723, 1.1640251, 1.1642779, 1.1645309, 1.1647841, 1.1650374, 1.1652908, 1.1655445, 1.1657982, 1.1660521, 1.1663063, 1.1665604, 1.1668148, 1.1670693, 1.1673239, 1.1675788, 1.1678338, 1.1680889, 1.1683441, 1.1685996, 1.1688552, 1.1691109, 1.1693668, 1.1696229, 1.1698791, 1.1701354, 1.1703919, 1.1706486, 1.1709055, 1.1711624, 1.1714195, 1.1716769, 1.1719342, 1.1721919, 1.1724497, 1.1727076, 1.1729656, 1.1732240, 1.1734823, 1.1737409, 1.1739995, 1.1742585, 1.1745175, 1.1747767, 1.1750361, 1.1752956, 1.1755552, 1.1758151, 1.1760751, 1.1763353, 1.1765956, 1.1768562, 1.1771168, 1.1773776, 1.1776385, 1.1778997, 1.1781610, 1.1784226, 1.1786841, 1.1789460, 1.1792079, 1.1794701, 1.1797324, 1.1799948, 1.1802576, 1.1805203, 1.1807833, 1.1810465, 1.1813098, 1.1815733, 1.1818370, 1.1821008, 1.1823647, 1.1826289, 1.1828933, 1.1831577, 1.1834224, 1.1836872, 1.1839523, 1.1842175, 1.1844828, 1.1847484, 1.1850141, 1.1852800, 1.1855460, 1.1858122, 1.1860787, 1.1863452, 1.1866120, 1.1868790, 1.1871461, 1.1874133, 1.1876808, 1.1879485, 1.1882163, 1.1884843, 1.1887525, 1.1890209, 1.1892895, 1.1895581, 1.1898271, 1.1900961, 1.1903654, 1.1906348, 1.1909045, 1.1911743, 1.1914443, 1.1917144, 1.1919848, 1.1922554, 1.1925261, 1.1927969, 1.1930680, 1.1933393, 1.1936108, 1.1938825, 1.1941543, 1.1944263, 1.1946986, 1.1949710, 1.1952435, 1.1955163, 1.1957892, 1.1960624, 1.1963358, 1.1966093, 1.1968831, 1.1971569, 1.1974311, 1.1977054, 1.1979798, 1.1982546, 1.1985295, 1.1988045, 1.1990798, 1.1993552, 1.1996309, 1.1999067, 1.2001828, 1.2004590, 1.2007354, 1.2010121, 1.2012889, 1.2015660, 1.2018433, 1.2021207, 1.2023983, 1.2026761, 1.2029542, 1.2032324, 1.2035108, 1.2037895, 1.2040683, 1.2043473, 1.2046266, 1.2049060, 1.2051857, 1.2054654, 1.2057456, 1.2060258, 1.2063063, 1.2065870, 1.2068678, 1.2071489, 1.2074302, 1.2077117, 1.2079935, 1.2082753, 1.2085575, 1.2088399, 1.2091224, 1.2094052, 1.2096882, 1.2099713, 1.2102548, 1.2105384, 1.2108222, 1.2111062, 1.2113905, 1.2116749, 1.2119596, 1.2122445, 1.2125297, 1.2128150, 1.2131006, 1.2133863, 1.2136724, 1.2139585, 1.2142450, 1.2145317, 1.2148185, 1.2151057, 1.2153929, 1.2156805, 1.2159683, 1.2162563, 1.2165444, 1.2168329, 1.2171216, 1.2174104, 1.2176995, 1.2179888, 1.2182784, 1.2185682, 1.2188582, 1.2191485, 1.2194390, 1.2197298, 1.2200207, 1.2203119, 1.2206032, 1.2208949, 1.2211868, 1.2214789, 1.2217712, 1.2220638, 1.2223567, 1.2226497, 1.2229429, 1.2232366, 1.2235303, 1.2238243, 1.2241185, 1.2244130, 1.2247077, 1.2250026, 1.2252979, 1.2255933, 1.2258890, 1.2261850, 1.2264811, 1.2267776, 1.2270743, 1.2273711, 1.2276683, 1.2279657, 1.2282634, 1.2285613, 1.2288594, 1.2291578, 1.2294564, 1.2297554, 1.2300545, 1.2303540, 1.2306536, 1.2309536, 1.2312537, 1.2315542, 1.2318548, 1.2321558, 1.2324569, 1.2327584, 1.2330601, 1.2333621, 1.2336643, 1.2339668, 1.2342696, 1.2345726, 1.2348759, 1.2351794, 1.2354833, 1.2357873, 1.2360916, 1.2363963, 1.2367011, 1.2370063, 1.2373117, 1.2376174, 1.2379233, 1.2382295, 1.2385360, 1.2388428, 1.2391498, 1.2394571, 1.2397647, 1.2400726, 1.2403808, 1.2406892, 1.2409978, 1.2413068, 1.2416161, 1.2419256, 1.2422354, 1.2425455, 1.2428559, 1.2431666, 1.2434775, 1.2437887, 1.2441002, 1.2444121, 1.2447242, 1.2450365, 1.2453492, 1.2456621, 1.2459754, 1.2462889, 1.2466028, 1.2469169, 1.2472314, 1.2475461, 1.2478610, 1.2481763, 1.2484920, 1.2488079, 1.2491241, 1.2494406, 1.2497574, 1.2500745, 1.2503920, 1.2507097, 1.2510276, 1.2513460, 1.2516646, 1.2519835, 1.2523028, 1.2526224, 1.2529422, 1.2532624, 1.2535828, 1.2539037, 1.2542248, 1.2545463, 1.2548680, 1.2551900, 1.2555125, 1.2558352, 1.2561581, 1.2564815, 1.2568052, 1.2571292, 1.2574534, 1.2577782, 1.2581031, 1.2584283, 1.2587540, 1.2590799, 1.2594062, 1.2597328, 1.2600598, 1.2603871, 1.2607147, 1.2610426, 1.2613709, 1.2616996, 1.2620285, 1.2623577, 1.2626874, 1.2630174, 1.2633477, 1.2636783, 1.2640094, 1.2643408, 1.2646724, 1.2650045, 1.2653369, 1.2656697, 1.2660028, 1.2663362, 1.2666700, 1.2670041, 1.2673388, 1.2676736, 1.2680088, 1.2683444, 1.2686805, 1.2690167, 1.2693534, 1.2696905, 1.2700279, 1.2703657, 1.2707038, 1.2710423, 1.2713813, 1.2717205, 1.2720602, 1.2724001, 1.2727406, 1.2730814, 1.2734225, 1.2737640, 1.2741059, 1.2744483, 1.2747909, 1.2751340, 1.2754774, 1.2758213, 1.2761655, 1.2765101, 1.2768551, 1.2772006, 1.2775464, 1.2778926, 1.2782391, 1.2785861, 1.2789335, 1.2792814, 1.2796296, 1.2799782, 1.2803272, 1.2806766, 1.2810265, 1.2813767, 1.2817273, 1.2820784, 1.2824299, 1.2827818, 1.2831341, 1.2834868, 1.2838401, 1.2841936, 1.2845476, 1.2849021, 1.2852569, 1.2856122, 1.2859679, 1.2863240, 1.2866807, 1.2870377, 1.2873951, 1.2877531, 1.2881114, 1.2884701, 1.2888294, 1.2891891, 1.2895492, 1.2899098, 1.2902708, 1.2906324, 1.2909943, 1.2913567, 1.2917194, 1.2920828, 1.2924466, 1.2928108, 1.2931755, 1.2935407, 1.2939063, 1.2942724, 1.2946390, 1.2950060, 1.2953736, 1.2957416, 1.2961100, 1.2964791, 1.2968485, 1.2972184, 1.2975888, 1.2979598, 1.2983313, 1.2987031, 1.2990755, 1.2994485, 1.2998219, 1.3001957, 1.3005701, 1.3009450, 1.3013206, 1.3016964, 1.3020729, 1.3024498, 1.3028274, 1.3032054, 1.3035839, 1.3039629, 1.3043425, 1.3047227, 1.3051033, 1.3054844, 1.3058661, 1.3062483, 1.3066312, 1.3070145, 1.3073983, 1.3077828, 1.3081677, 1.3085532, 1.3089393, 1.3093259, 1.3097131, 1.3101009, 1.3104892, 1.3108780, 1.3112675, 1.3116575, 1.3120482, 1.3124393, 1.3128310, 1.3132235, 1.3136164, 1.3140099, 1.3144040, 1.3147987, 1.3151940, 1.3155899, 1.3159864, 1.3163835, 1.3167812, 1.3171794, 1.3175784, 1.3179779, 1.3183781, 1.3187789, 1.3191803, 1.3195823, 1.3199850, 1.3203883, 1.3207922, 1.3211968, 1.3216020, 1.3220079, 1.3224144, 1.3228216, 1.3232294, 1.3236378, 1.3240471, 1.3244568, 1.3248674, 1.3252785, 1.3256903, 1.3261029, 1.3265160, 1.3269299, 1.3273444, 1.3277597, 1.3281757, 1.3285923, 1.3290097, 1.3294277, 1.3298465, 1.3302660, 1.3306862, 1.3311073, 1.3315289, 1.3319513, 1.3323743, 1.3327982, 1.3332229, 1.3336482, 1.3340743, 1.3345011, 1.3349288, 1.3353572, 1.3357863, 1.3362162, 1.3366469, 1.3370783, 1.3375106, 1.3379437, 1.3383775, 1.3388121, 1.3392476, 1.3396838, 1.3401208, 1.3405586, 1.3409973, 1.3414369, 1.3418772, 1.3423184, 1.3427603, 1.3432032, 1.3436469, 1.3440914, 1.3445369, 1.3449831, 1.3454303, 1.3458782, 1.3463272, 1.3467770, 1.3472276, 1.3476791, 1.3481317, 1.3485850, 1.3490393, 1.3494945, 1.3499506, 1.3504076, 1.3508656, 1.3513246, 1.3517845, 1.3522452, 1.3527070, 1.3531698, 1.3536335, 1.3540982, 1.3545638, 1.3550305, 1.3554982, 1.3559668, 1.3564365, 1.3569071, 1.3573788, 1.3578516, 1.3583254, 1.3588002, 1.3592761, 1.3597530, 1.3602309, 1.3607100, 1.3611902, 1.3616713, 1.3621536, 1.3626372, 1.3631216, 1.3636073, 1.3640940, 1.3645819, 1.3650709, 1.3655611, 1.3660525, 1.3665450, 1.3670387, 1.3675336, 1.3680296, 1.3685269, 1.3690253, 1.3695251, 1.3700260, 1.3705281, 1.3710315, 1.3715361, 1.3720421, 1.3725492, 1.3730577, 1.3735675, 1.3740785, 1.3745909, 1.3751045, 1.3756196, 1.3761361, 1.3766538, 1.3771728, 1.3776933, 1.3782152, 1.3787385, 1.3792632, 1.3797894, 1.3803169, 1.3808458, 1.3813763, 1.3819082, 1.3824416, 1.3829765, 1.3835130, 1.3840508, 1.3845904, 1.3851314, 1.3856740, 1.3862181, 1.3867638, 1.3873112, 1.3878602, 1.3884108, 1.3889631, 1.3895169, 1.3900726, 1.3906299, 1.3911889, 1.3917496, 1.3923120, 1.3928764, 1.3934424, 1.3940102, 1.3945798, 1.3951513, 1.3957245, 1.3962996, 1.3968767, 1.3974556, 1.3980365, 1.3986193, 1.3992040, 1.3997908, 1.4003795, 1.4009702, 1.4015630, 1.4021579, 1.4027549, 1.4033539, 1.4039551, 1.4045584, 1.4051640, 1.4057717, 1.4063817, 1.4069939, 1.4076084, 1.4082251, 1.4088442, 1.4094657, 1.4100895, 1.4107158, 1.4113444, 1.4119756, 1.4126092, 1.4132454, 1.4138842, 1.4145255, 1.4151695, 1.4158161, 1.4164654, 1.4171174, 1.4177722, 1.4184297, 1.4190900, 1.4197533, 1.4204195, 1.4210886, 1.4217607, 1.4224358, 1.4231139, 1.4237952, 1.4244796, 1.4251672, 1.4258581, 1.4265522, 1.4272497, 1.4279505, 1.4286548, 1.4293625, 1.4300739, 1.4307888, 1.4315073, 1.4322295, 1.4329555, 1.4336854, 1.4344190, 1.4351567, 1.4358984, 1.4366441, 1.4373940, 1.4381480, 1.4389064, 1.4396691, 1.4404364, 1.4412080, 1.4419843, 1.4427652, 1.4435509, 1.4443415, 1.4451370, 1.4459376, 1.4467434, 1.4475543, 1.4483706, 1.4491923, 1.4500196, 1.4508526, 1.4516914, 1.4525361, 1.4533869, 1.4542438, 1.4551071, 1.4559767, 1.4568532, 1.4577361, 1.4586262, 1.4595233, 1.4604276, 1.4613395, 1.4622589, 1.4631861, 1.4641215, 1.4650649, 1.4660169, 1.4669776, 1.4679472, 1.4689261, 1.4699143, 1.4709123, 1.4719204, 1.4729388, 1.4739679, 1.4750080, 1.4760596, 1.4771228, 1.4781982, 1.4792862, 1.4803873, 1.4815019, 1.4826306, 1.4837739, 1.4849324, 1.4861066, 1.4872974, 1.4885054, 1.4897312, 1.4909759, 1.4922402, 1.4935253, 1.4948319, 1.4961613, 1.4975150, 1.4988940, 1.5002999, 1.5017344, 1.5031992, 1.5046966, 1.5062284, 1.5077976, 1.5094068, 1.5110593, 1.5127586, 1.5145093, 1.5163162, 1.5181849, 1.5201224, 1.5221370, 1.5242387, 1.5264397, 1.5287557, 1.5312068, 1.5338200, 1.5366324, 1.5396980, 1.5431008, 1.5469849, 1.5516407, 1.5578775, 1.5707964





.text:

doit:
	push ebp
	mov ebp, esp
	push eax
	push ebx ; ebx: table address

	; reset flag
	xor eax, eax
	mov [flag], eax

	finit ; initialize fpu
	fld dword [ebp+8]	; st0 = val
	
	; check for edge-cases
	fld1 ; load 1
	fchs ; negate
	fcomp ; compare st0 and st1
	fstsw ax ; store status register
	and eax, 0100011100000000B ; filter out status bits
	cmp eax, 0000000000000000B ; check if st0 > st1 (val < -1.0)
	je out_of_range

	fld1; load 1
	fcomp ; compare st0 and st1
	fstsw ax ; store status register
	and eax, 0100011100000000B ; filter out status bits
	cmp eax, 0000000100000000B ; check if st0 < st1 (val > 1.0)
	je out_of_range


	; check if input is negative

	fldz
	fcomp
	fstsw ax;
	and eax, 0100011100000000B ; filter out status bits
	cmp eax, 0000000000000000B ; check if st0 > st1 (val < 0.0)
	je negative
	jmp table_check
	negative:
	mov eax, 01b
	mov [flag], eax
	xor eax, eax

	table_check:
		fabs ; use absolute value after this point
		fld dword [pnine]
		fcomp
		fstsw ax;
		and eax, 0100011100000000B ; filter out status bits
		cmp eax, 0000000100000000B ; check if st0 < st1 (val > 0.9)
		je set_high
		jmp set_main
	
		set_high: ; using high precision
			mov ebx, table_high
			;mov table, eax
			mov eax, [flag]
			or eax, 10b ; set table statusbit
			mov [flag], eax

			; input scaling (input * size_high * 10)
			fimul dword [size_high]
			fld dword [ten]
			fmulp
			
			; apply offset to input [ input -(10*size_high - size_high) ]
			fild dword [size_high]
			fld dword [ten]
			fmulp
			fisub dword [size_high]
			fsubp st1, st0 ; subtract from input
			
			

			jmp inter_check

		set_main:; using main table
			mov ebx, table_main
			;mov table, eax

			; input scaling (input * size_main)
			fimul dword [size_main]

	inter_check: ; check if interpolation is necessary

		fld st0 ; duplicate stack top value
		frndint
		fcomp st0, st1
		fstsw ax
		and eax, 0100011100000000B ; filter out status bits
		cmp eax, 0000000000000000B ; check if st0 > st1
		je interpolate
		cmp eax, 0000000100000000B ; check if st0 < st1
		je interpolate
		cmp eax, 0100000000000000B ; check if st0 = st1
		je equal
		jmp end

	out_of_range:
		fld dword [two]
		jmp end

	interpolate:
		; index_1 = floor(val)
		; change control word to floor
		fstcw [cw] ; save current control word
		fwait 

		mov ax, [cw]
		and ax, 0x0F3FF ; mask round-control bits
		or  ax, 0x00700	; set round-control bits to 01 (round down)
		push eax ; push new control word to stack

		fldcw [esp] ; load control word


		fld st0 ; clone stack top
		frndint ; round 
		fistp dword [index_1] ; store integer
		pop eax

		; index_2 = ceil(val)
		; change control world to ceil
		and ax, 0x0F3FF ; mask round-control bits
		or  ax, 0x00B00	; set round-control bits to 10 (round up)
		push eax ; push new control word to stack

		fldcw [esp] ; load control word

		fld st0 ; clone stack top
		frndint ; round
		fistp dword [index_2] ; store integer


		fldcw [cw]
		pop eax
		fstp dword [res]


		; load y2
		mov eax, [index_2]
		fld dword [ebx+eax*4] ; load into fpu
	
		; load y1
		mov eax, [index_1]
		fld dword [ebx+eax*4] ; load into fpu
			
		fsubp ; st0 =  y2 - y1

		fild dword [index_2] ; st0 = x2
		fisub dword [index_1] ; x2 - x1
	
		fdivp ; st0 = (y2 - y1)/(x2 - x1)
		
		fld dword [res] ; load val
		fisub dword [index_1] ;(x - x1)
	
		fmulp ;(st0 = st1 * (x-x1))

		mov eax, [index_1]
		fadd dword [ebx+eax*4] ; st0 + st1

		jmp end

	equal: ; the calculated number e is equal to the nearest int : no interpolation necessary: get entry and return
		fistp dword [index_1]
		mov eax, [index_1]
		fld dword [ebx+eax*4]
	end:
		; if negative: negate ouput
		mov eax, [flag]
		and eax, 1b ; filter out status flag
		cmp eax, 1
		jne exit
		fchs ; negative: change sign
		exit:
		pop ebx
		pop eax
		pop ebp
		ret
